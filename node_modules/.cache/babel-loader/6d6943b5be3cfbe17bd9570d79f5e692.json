{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\nvall\\\\Google Drive\\\\Software Development\\\\Spruce\\\\js-mentorship\\\\HiringPrep\\\\TakehomeFrontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\nvall\\\\Google Drive\\\\Software Development\\\\Spruce\\\\js-mentorship\\\\HiringPrep\\\\TakehomeFrontend\\\\src\\\\components\\\\BookingTable.js\";\nimport React, { useState, useEffect } from 'react';\nimport MaterialTable from 'material-table';\nimport moment from 'moment';\n\nfunction BookingTable() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1]; // // Using moment.js to format the dates for me\n  // const myDates = data.map(function (e) {\n  //     let currentDate;\n  //     currentDate = moment(e.datetime).format('MMMM Do YYYY, h:mm:ss a');\n  //     return currentDate;\n  // });\n  // console.log(myDates);\n  // function to sort my data in ascending order by date\n\n\n  data.sort(function compare(a, b) {\n    var dateA = moment(a.datetime).format('MMMM Do YYYY, h:mm:ss a');\n    var dateB = moment(b.datetime).format('MMMM Do YYYY, h:mm:ss a');\n    dateA = new Date(a.datetime);\n    dateB = new Date(b.datetime);\n    return dateA - dateB;\n  });\n  var columns = [{\n    title: \"Name\",\n    field: \"name\"\n  }, {\n    title: \"Email\",\n    field: \"email\"\n  }, {\n    title: \"Address\",\n    field: \"address\"\n  }, {\n    title: \"Booking Type\",\n    field: \"bookingtype\"\n  }, {\n    title: \"Booking Date/Time\",\n    field: \"datetime\"\n  }];\n  useEffect(function () {\n    var url = \"https://bookingapi-b86e.restdb.io/rest/bookings\";\n    fetch(url, {\n      \"method\": \"GET\",\n      \"headers\": {\n        \"x-apikey\": \"5d03eb2a27bc5b75bfeb7c7a\"\n      }\n    }).then(function (resp) {\n      return resp.json();\n    }).then(function (resp) {\n      setData(resp);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"BookingTable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MaterialTable, {\n    title: \"Bookings\",\n    options: {\n      search: false\n    },\n    data: data,\n    columns: columns,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default BookingTable;","map":{"version":3,"sources":["C:/Users/nvall/Google Drive/Software Development/Spruce/js-mentorship/HiringPrep/TakehomeFrontend/src/components/BookingTable.js"],"names":["React","useState","useEffect","MaterialTable","moment","BookingTable","data","setData","sort","compare","a","b","dateA","datetime","format","dateB","Date","columns","title","field","url","fetch","then","resp","json","search"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,aAAP,MAA0B,gBAA1B;AACA,OAAOC,MAAP,MAAmB,QAAnB;;AAIA,SAASC,YAAT,GAAwB;AAGpB,kBAAwBJ,QAAQ,CAAC,EAAD,CAAhC;AAAA;AAAA,MAAOK,IAAP;AAAA,MAAaC,OAAb,iBAHoB,CAKpB;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;;;AACAD,EAAAA,IAAI,CAACE,IAAL,CAAU,SAASC,OAAT,CAAiBC,CAAjB,EAAoBC,CAApB,EAAuB;AAE7B,QAAIC,KAAK,GAAGR,MAAM,CAACM,CAAC,CAACG,QAAH,CAAN,CAAmBC,MAAnB,CAA0B,yBAA1B,CAAZ;AACA,QAAIC,KAAK,GAAGX,MAAM,CAACO,CAAC,CAACE,QAAH,CAAN,CAAmBC,MAAnB,CAA0B,yBAA1B,CAAZ;AAEAF,IAAAA,KAAK,GAAG,IAAII,IAAJ,CAASN,CAAC,CAACG,QAAX,CAAR;AACAE,IAAAA,KAAK,GAAG,IAAIC,IAAJ,CAASL,CAAC,CAACE,QAAX,CAAR;AACA,WAAOD,KAAK,GAAGG,KAAf;AACH,GARD;AAUA,MAAME,OAAO,GAAG,CAEZ;AAAEC,IAAAA,KAAK,EAAE,MAAT;AAAiBC,IAAAA,KAAK,EAAE;AAAxB,GAFY,EAGZ;AAAED,IAAAA,KAAK,EAAE,OAAT;AAAkBC,IAAAA,KAAK,EAAE;AAAzB,GAHY,EAIZ;AAAED,IAAAA,KAAK,EAAE,SAAT;AAAoBC,IAAAA,KAAK,EAAE;AAA3B,GAJY,EAKZ;AAAED,IAAAA,KAAK,EAAE,cAAT;AAAyBC,IAAAA,KAAK,EAAE;AAAhC,GALY,EAMZ;AAAED,IAAAA,KAAK,EAAE,mBAAT;AAA8BC,IAAAA,KAAK,EAAE;AAArC,GANY,CAAhB;AAUAjB,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAIkB,GAAG,GAAG,iDAAV;AACAC,IAAAA,KAAK,CAACD,GAAD,EAAM;AACP,gBAAU,KADH;AAEP,iBAAW;AACP,oBAAY;AADL;AAFJ,KAAN,CAAL,CAMKE,IANL,CAMU,UAAAC,IAAI;AAAA,aAAIA,IAAI,CAACC,IAAL,EAAJ;AAAA,KANd,EAOKF,IAPL,CAOU,UAAAC,IAAI,EAAI;AACVhB,MAAAA,OAAO,CAACgB,IAAD,CAAP;AACH,KATL;AAUH,GAZQ,EAYN,EAZM,CAAT;AAeA,sBACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,aAAD;AACI,IAAA,KAAK,EAAC,UADV;AAEI,IAAA,OAAO,EAAE;AAAEE,MAAAA,MAAM,EAAE;AAAV,KAFb;AAGI,IAAA,IAAI,EAAEnB,IAHV;AAII,IAAA,OAAO,EAAEW,OAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAUH;;AAED,eAAeZ,YAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport MaterialTable from 'material-table';\r\nimport moment from 'moment';\r\n\r\n\r\n\r\nfunction BookingTable() {\r\n\r\n\r\n    const [data, setData] = useState([])\r\n\r\n    // // Using moment.js to format the dates for me\r\n    // const myDates = data.map(function (e) {\r\n    //     let currentDate;\r\n    //     currentDate = moment(e.datetime).format('MMMM Do YYYY, h:mm:ss a');\r\n    //     return currentDate;\r\n    // });\r\n\r\n    // console.log(myDates);\r\n\r\n    // function to sort my data in ascending order by date\r\n    data.sort(function compare(a, b) {\r\n\r\n        var dateA = moment(a.datetime).format('MMMM Do YYYY, h:mm:ss a');\r\n        var dateB = moment(b.datetime).format('MMMM Do YYYY, h:mm:ss a');\r\n\r\n        dateA = new Date(a.datetime);\r\n        dateB = new Date(b.datetime);\r\n        return dateA - dateB;\r\n    });\r\n\r\n    const columns = [\r\n\r\n        { title: \"Name\", field: \"name\" },\r\n        { title: \"Email\", field: \"email\" },\r\n        { title: \"Address\", field: \"address\" },\r\n        { title: \"Booking Type\", field: \"bookingtype\" },\r\n        { title: \"Booking Date/Time\", field: \"datetime\" }\r\n    ]\r\n\r\n\r\n    useEffect(() => {\r\n        let url = \"https://bookingapi-b86e.restdb.io/rest/bookings\";\r\n        fetch(url, {\r\n            \"method\": \"GET\",\r\n            \"headers\": {\r\n                \"x-apikey\": \"5d03eb2a27bc5b75bfeb7c7a\"\r\n            }\r\n        })\r\n            .then(resp => resp.json())\r\n            .then(resp => {\r\n                setData(resp)\r\n            })\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div className=\"BookingTable\">\r\n            <MaterialTable\r\n                title=\"Bookings\"\r\n                options={{ search: false, }}\r\n                data={data}\r\n                columns={columns}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default BookingTable;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}